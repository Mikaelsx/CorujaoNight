<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Corujão - Volume 1</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.cdnfonts.com/css/garet');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Garet', sans-serif;
            overflow-x: auto;
            background: #ebebeb;
        }

        /* SCROLLBAR CUSTOMIZADA */
        ::-webkit-scrollbar {
            overflow: hidden;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: transparent;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(73, 122, 252, 0.5);
        }

        /* Firefox */
        * {
            scrollbar-width: thin;
            scrollbar-color: rgba(73, 122, 252, 0.3) transparent;
        }

        /* TOAST NOTIFICATIONS */
        .toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .toast {
            background: #333;
            color: #fff;
            padding: 16px 24px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            gap: 12px;
            min-width: 300px;
            animation: slideIn 0.3s ease-out;
        }

        .toast.success {
            background: #4caf50;
        }

        .toast.error {
            background: #f44336;
        }

        .toast.warning {
            background: #ff9800;
        }

        .toast i {
            font-size: 20px;
        }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(400px);
                opacity: 0;
            }
        }

        /* TELA DE ENTRADA */
        .entry-screen {
            min-height: 100vh;
            background: url('assets/Design sem nome.jpg') center/cover no-repeat;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .entry-overlay {
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.4);
        }

        .entry-content {
            position: relative;
            z-index: 10;
            text-align: center;
            padding: 40px 20px;
            width: 100%;
            max-width: 600px;
        }

        .entry-input {
            width: 100%;
            max-width: 500px;
            padding: 24px;
            font-size: 20px;
            border: 3px solid #ffffff;
            background: rgba(255, 255, 255, 0.95);
            color: #000000;
            font-family: 'Garet', sans-serif;
            font-weight: 600;
            text-align: center;
            transition: all 0.3s;
        }

        .entry-input:focus {
            outline: none;
            border-color: #ffb801;
            transform: scale(1.02);
        }

        .entry-input::placeholder {
            color: #999;
        }

        .entry-button {
            margin-top: 30px;
            padding: 20px 60px;
            font-size: 18px;
            font-weight: 700;
            background: #497afc;
            color: #ffffff;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .entry-button:hover {
            background: #3a68e5;
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(73, 122, 252, 0.4);
        }

        .admin-fab {
            position: fixed;
            bottom: 40px;
            right: 40px;
            width: 70px;
            height: 70px;
            background: #ffb801;
            border: none;
            border-radius: 50%;
            font-size: 28px;
            color: #000000;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 20px rgba(255, 184, 1, 0.5);
            z-index: 100;
        }

        .admin-fab:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(255, 184, 1, 0.7);
        }

        /* DASHBOARD */
        .dashboard {
            display: none;
            min-height: 100vh;
            background: #ebebeb;
        }

        .dashboard.active {
            display: block;
        }

        .header {
            background: #ebebeb;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .header-title {
            color: #497afc;
            font-size: 28px;
            font-weight: 900;
            letter-spacing: 3px;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .header-user {
            color: #497afc;
            font-size: 16px;
            font-weight: 600;
        }

        .btn-logout {
            background: #497afc;
            color: #ffffff;
            border: none;
            padding: 12px 24px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            font-size: 14px;
            letter-spacing: 1px;
        }

        .btn-logout:hover {
            background: #3a68e5;
        }

        .content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .section {
            background: #ffffff;
            padding: 30px 20px;
            margin-bottom: 20px;
        }

        .section-title {
            color: #497afc;
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 20px;
            padding-left: 16px;
            border-left: 6px solid #ffb801;
        }

        /* REGRAS */
        .rules-list {
            list-style: none;
        }

        .rules-list li {
            padding: 15px;
            background: #f9f9f9;
            margin-bottom: 10px;
            color: #333;
            font-size: 15px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .rules-list li i {
            color: #497afc;
            font-size: 20px;
            min-width: 24px;
        }

        /* ITENS */
        .add-item-form {
            display: grid;
            grid-template-columns: 1fr 2fr auto;
            gap: 10px;
            margin-bottom: 20px;
        }

        .add-item-form input {
            padding: 15px;
            border: 2px solid #e0e0e0;
            font-size: 15px;
            font-family: 'Garet', sans-serif;
        }

        .add-item-form input:focus {
            outline: none;
            border-color: #497afc;
        }

        .btn-add {
            background: #ffb801;
            color: #000000;
            border: none;
            padding: 15px 20px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            font-size: 13px;
            letter-spacing: 1px;
            white-space: nowrap;
        }

        .btn-add:hover {
            background: #e6a500;
        }

        .items-list {
            display: grid;
            gap: 10px;
        }

        .item-card {
            background: #f9f9f9;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .item-card-content {
            flex: 1;
            min-width: 200px;
        }

        .item-card strong {
            color: #497afc;
            font-size: 15px;
            margin-right: 8px;
        }

        .item-card span {
            color: #666;
            font-size: 15px;
        }

        .btn-delete {
            background: #ff4444;
            color: #ffffff;
            border: none;
            padding: 8px 16px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 700;
            transition: all 0.3s;
        }

        .btn-delete:hover {
            background: #cc0000;
        }

        /* SCORE FAB */
        .score-fab {
            position: fixed;
            bottom: 40px;
            right: 40px;
            width: 70px;
            height: 70px;
            background: #ffb801;
            border: none;
            border-radius: 50%;
            font-size: 28px;
            color: #000000;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 20px rgba(255, 184, 1, 0.5);
            z-index: 100;
        }

        .score-fab:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(255, 184, 1, 0.7);
        }

        /* ADMIN PANEL */
        .admin-controls {
            background: #f0f0f0;
            padding: 20px;
            margin-bottom: 20px;
        }

        .score-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn-score {
            padding: 12px 20px;
            border: 2px solid;
            background: transparent;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            font-size: 13px;
        }

        .btn-score.orange {
            border-color: #ffb801;
            color: #ffb801;
        }

        .btn-score.orange:hover {
            background: #ffb801;
            color: #000000;
        }

        .btn-score.blue {
            border-color: #497afc;
            color: #497afc;
        }

        .btn-score.blue:hover {
            background: #497afc;
            color: #ffffff;
        }

        /* MODAIS */
        .modal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        /* SCORE MODAL */
        .score-modal-content {
            width: 100%;
            height: 100%;
            display: grid;
            grid-template-columns: 1fr 1fr;
        }

        .score-panel {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px;
            position: relative;
        }

        .score-panel.orange {
            background: #ffb801;
        }

        .score-panel.blue {
            background: #497afc;
        }

        .btn-close-score {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: #ffffff;
            font-size: 32px;
            width: 50px;
            height: 50px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-close-score:hover {
            background: rgba(255, 255, 255, 0.4);
        }

        .team-name {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 30px;
            text-transform: uppercase;
            letter-spacing: 3px;
        }

        .score-panel.orange .team-name {
            color: #000000;
        }

        .score-panel.blue .team-name {
            color: #ffffff;
        }

        .score-number {
            font-size: 120px;
            font-weight: 900;
        }

        .score-panel.orange .score-number {
            color: #000000;
        }

        .score-panel.blue .score-number {
            color: #ffffff;
        }

        .admin-score-controls {
            margin-top: 30px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn-score-add {
            background: rgba(255, 255, 255, 0.9);
            border: none;
            padding: 12px 20px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .btn-score-add:hover {
            background: #ffffff;
        }

        .hidden {
            display: none !important;
        }

        @media (max-width: 768px) {
            .header-title {
                font-size: 22px;
            }

            .add-item-form {
                grid-template-columns: 1fr;
            }

            .section {
                padding: 20px 15px;
            }

            .section-title {
                font-size: 20px;
            }

            .score-number {
                font-size: 80px;
            }

            .team-name {
                font-size: 20px;
            }

            .admin-fab,
            .score-fab {
                width: 60px;
                height: 60px;
                bottom: 20px;
                right: 20px;
                font-size: 24px;
            }

            .toast-container {
                top: 10px;
                right: 10px;
                left: 10px;
            }

            .toast {
                min-width: auto;
                width: 100%;
            }
        }

        @media (max-width: 480px) {
            .entry-input {
                font-size: 16px;
                padding: 18px;
            }

            .entry-button {
                padding: 16px 40px;
                font-size: 16px;
            }

            .rules-list li {
                font-size: 14px;
                padding: 12px;
            }

            .item-card {
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <!-- TOAST CONTAINER -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- TELA DE ENTRADA -->
    <div id="entryScreen" class="entry-screen">
        <div class="entry-overlay"></div>
        <div class="entry-content">
            <input 
                type="text" 
                id="entryInput" 
                class="entry-input" 
                placeholder="Digite seu nome para entrar"
            >
            <br>
            <button class="entry-button" onclick="enterSystem()">ENTRAR</button>
        </div>
        <button class="admin-fab" id="adminFab" onclick="toggleAdminMode()">
            <i class="fas fa-lock"></i>
        </button>
    </div>

    <!-- DASHBOARD -->
    <div id="dashboard" class="dashboard">
        <div class="header">
            <h1 class="header-title">CORUJÃO</h1>
            <div class="header-right">
                <span class="header-user" id="headerUserName"></span>
                <button class="btn-logout" onclick="logout()">SAIR</button>
            </div>
        </div>

        <div class="content">
            <!-- REGRAS -->
            <div class="section">
                <h2 class="section-title">Regras do Evento</h2>
                <ul class="rules-list">
                    <li><i class="fas fa-handshake"></i> Respeito mútuo entre todos os participantes</li>
                    <li><i class="fas fa-clock"></i> Horário de início: 20h00</li>
                    <li><i class="fas fa-trophy"></i> Cada vitória vale pontos para o time</li>
                    <li><i class="fas fa-mobile-screen"></i> Proibido uso de celular durante os jogos</li>
                    <li><i class="fas fa-volume-xmark"></i> Horário de silêncio: 02:00 às 07:00</li>
                </ul>
            </div>

            <!-- ITENS -->
            <div class="section">
                <h2 class="section-title">O que cada um vai levar</h2>
                <div class="add-item-form">
                    <input type="text" id="itemName" placeholder="Seu nome">
                    <input type="text" id="itemDescription" placeholder="O que você vai levar">
                    <button class="btn-add" onclick="addItem()">
                        <i class="fas fa-plus"></i> ADICIONAR
                    </button>
                </div>
                <div class="items-list" id="itemsList"></div>
            </div>

            <!-- ADMIN CONTROLS -->
            <div class="section hidden" id="adminSection">
                <h2 class="section-title">Painel Admin - Gerenciar Pontuação</h2>
                <div class="admin-controls">
                    <h3 style="margin-bottom: 20px; color: #333;">Adicionar Pontos</h3>
                    <div class="score-buttons">
                        <button class="btn-score orange" onclick="addScore('orange', 10)">
                            <i class="fas fa-fire"></i> Time Laranja +10
                        </button>
                        <button class="btn-score orange" onclick="addScore('orange', 5)">
                            <i class="fas fa-fire"></i> Time Laranja +5
                        </button>
                        <button class="btn-score orange" onclick="addScore('orange', 3)">
                            <i class="fas fa-fire"></i> Time Laranja +3
                        </button>
                        <button class="btn-score blue" onclick="addScore('blue', 10)">
                            <i class="fas fa-water"></i> Time Azul +10
                        </button>
                        <button class="btn-score blue" onclick="addScore('blue', 5)">
                            <i class="fas fa-water"></i> Time Azul +5
                        </button>
                        <button class="btn-score blue" onclick="addScore('blue', 3)">
                            <i class="fas fa-water"></i> Time Azul +3
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <button class="score-fab" onclick="openScoreModal()">
            <i class="fas fa-trophy"></i>
        </button>
    </div>

    <!-- SCORE MODAL -->
    <div id="scoreModal" class="modal">
        <div class="score-modal-content">
            <div class="score-panel orange">
                <button class="btn-close-score" onclick="closeScoreModal()">&times;</button>
                <div class="team-name">Time Laranja</div>
                <div class="score-number" id="orangeScore">0</div>
                <div class="admin-score-controls hidden" id="adminOrangeControls">
                    <button class="btn-score-add" onclick="addScore('orange', 10)">+10</button>
                    <button class="btn-score-add" onclick="addScore('orange', 5)">+5</button>
                    <button class="btn-score-add" onclick="addScore('orange', 3)">+3</button>
                </div>
            </div>
            <div class="score-panel blue">
                <div class="team-name">Time Azul</div>
                <div class="score-number" id="blueScore">0</div>
                <div class="admin-score-controls hidden" id="adminBlueControls">
                    <button class="btn-score-add" onclick="addScore('blue', 10)">+10</button>
                    <button class="btn-score-add" onclick="addScore('blue', 5)">+5</button>
                    <button class="btn-score-add" onclick="addScore('blue', 3)">+3</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCp2tn343FiZkBjFXI7QYc7IzVtiakD_tc",
            authDomain: "corujaonightm.firebaseapp.com",
            projectId: "corujaonightm",
            storageBucket: "corujaonightm.firebasestorage.app",
            messagingSenderId: "1021202318408",
            appId: "1:1021202318408:web:f3ac2934f4c8bff265047d"
        };
        
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        let currentUser = null;
        let isAdmin = false;
        let isAdminMode = false;

        // TOAST NOTIFICATION SYSTEM
        function showToast(message, type = 'success') {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            
            const icon = type === 'success' ? 'fa-check-circle' : 
                        type === 'error' ? 'fa-exclamation-circle' : 
                        'fa-info-circle';
            
            toast.innerHTML = `
                <i class="fas ${icon}"></i>
                <span>${message}</span>
            `;
            
            container.appendChild(toast);
            
            setTimeout(() => {
                toast.style.animation = 'slideOut 0.3s ease-out';
                setTimeout(() => {
                    container.removeChild(toast);
                }, 300);
            }, 3000);
        }

        // TOGGLE ADMIN MODE
        function toggleAdminMode() {
            isAdminMode = !isAdminMode;
            const input = document.getElementById('entryInput');
            const fab = document.getElementById('adminFab');
            
            if (isAdminMode) {
                input.type = 'password';
                input.placeholder = 'Digite a senha admin';
                fab.innerHTML = '<i class="fas fa-user"></i>';
            } else {
                input.type = 'text';
                input.placeholder = 'Digite seu nome para entrar';
                fab.innerHTML = '<i class="fas fa-lock"></i>';
            }
            input.value = '';
            input.focus();
        }

        // ENTRAR NO SISTEMA
        function enterSystem() {
            const input = document.getElementById('entryInput').value.trim();
            
            if (!input) {
                showToast('Por favor, preencha o campo!', 'warning');
                return;
            }

            if (isAdminMode) {
                if (input === '5982') {
                    isAdmin = true;
                    currentUser = { name: 'Administrador' };
                    showDashboard();
                    showToast('Login admin realizado com sucesso!', 'success');
                } else {
                    showToast('Senha incorreta!', 'error');
                }
            } else {
                currentUser = { name: input };
                showDashboard();
                showToast(`Bem-vindo, ${input}!`, 'success');
            }
        }

        // MOSTRAR DASHBOARD
        function showDashboard() {
            document.getElementById('entryScreen').style.display = 'none';
            document.getElementById('dashboard').classList.add('active');
            document.getElementById('headerUserName').textContent = currentUser.name;
            
            if (isAdmin) {
                document.getElementById('adminSection').classList.remove('hidden');
                document.getElementById('adminOrangeControls').classList.remove('hidden');
                document.getElementById('adminBlueControls').classList.remove('hidden');
            }
            
            loadItems();
            loadScores();
        }

        // LOGOUT
        function logout() {
            currentUser = null;
            isAdmin = false;
            isAdminMode = false;
            document.getElementById('dashboard').classList.remove('active');
            document.getElementById('entryScreen').style.display = 'flex';
            document.getElementById('entryInput').value = '';
            document.getElementById('entryInput').type = 'text';
            document.getElementById('entryInput').placeholder = 'Digite seu nome para entrar';
            document.getElementById('adminFab').innerHTML = '<i class="fas fa-lock"></i>';
            document.getElementById('adminSection').classList.add('hidden');
            showToast('Você saiu do sistema', 'success');
        }

        // ADICIONAR ITEM
        async function addItem() {
            const name = document.getElementById('itemName').value.trim();
            const description = document.getElementById('itemDescription').value.trim();

            if (!name || !description) {
                showToast('Preencha todos os campos!', 'warning');
                return;
            }

            try {
                await db.collection('items').add({
                    name: name,
                    description: description,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });

                document.getElementById('itemName').value = '';
                document.getElementById('itemDescription').value = '';
                showToast('Item adicionado com sucesso!', 'success');
                loadItems();
            } catch (error) {
                console.error('Erro ao adicionar item:', error);
                showToast('Erro ao adicionar item: ' + error.message, 'error');
            }
        }

        // CARREGAR ITENS
        async function loadItems() {
            try {
                const snapshot = await db.collection('items').orderBy('createdAt', 'desc').get();
                const itemsList = document.getElementById('itemsList');
                itemsList.innerHTML = '';

                if (snapshot.empty) {
                    itemsList.innerHTML = '<p style="text-align: center; color: #999; padding: 20px;">Nenhum item cadastrado ainda.</p>';
                    return;
                }

                snapshot.forEach(doc => {
                    const item = doc.data();
                    const div = document.createElement('div');
                    div.className = 'item-card';
                    div.innerHTML = `
                        <div class="item-card-content">
                            <strong>${item.name}</strong>
                            <span>- ${item.description}</span>
                        </div>
                        ${isAdmin ? `<button class="btn-delete" onclick="deleteItem('${doc.id}')">
                            <i class="fas fa-trash"></i>
                        </button>` : ''}
                    `;
                    itemsList.appendChild(div);
                });
            } catch (error) {
                console.error('Erro ao carregar itens:', error);
                showToast('Erro ao carregar itens: ' + error.message, 'error');
            }
        }

        // DELETAR ITEM
        async function deleteItem(id) {
            if (!confirm('Tem certeza que deseja excluir este item?')) return;

            try {
                await db.collection('items').doc(id).delete();
                showToast('Item excluído com sucesso!', 'success');
                loadItems();
            } catch (error) {
                console.error('Erro ao deletar item:', error);
                showToast('Erro ao deletar item: ' + error.message, 'error');
            }
        }

        // ADICIONAR PONTUAÇÃO
        async function addScore(team, points) {
            if (!isAdmin) {
                showToast('Apenas administradores podem adicionar pontos!', 'error');
                return;
            }

            try {
                const scoresRef = db.collection('config').doc('scores');
                const doc = await scoresRef.get();
                
                let scores = { orange: 0, blue: 0 };
                if (doc.exists) {
                    scores = doc.data();
                }

                scores[team] = (scores[team] || 0) + points;
                
                await scoresRef.set(scores);
                
                const teamName = team === 'orange' ? 'Laranja' : 'Azul';
                showToast(`+${points} pontos para o Time ${teamName}!`, 'success');
                
                loadScores();
            } catch (error) {
                console.error('Erro ao adicionar pontuação:', error);
                showToast('Erro ao adicionar pontuação: ' + error.message, 'error');
            }
        }

        // CARREGAR PONTUAÇÃO
        async function loadScores() {
            try {
                const doc = await db.collection('config').doc('scores').get();
                let scores = { orange: 0, blue: 0 };
                
                if (doc.exists) {
                    scores = doc.data();
                }

                document.getElementById('orangeScore').textContent = scores.orange || 0;
                document.getElementById('blueScore').textContent = scores.blue || 0;
            } catch (error) {
                console.error('Erro ao carregar pontuação:', error);
                showToast('Erro ao carregar pontuação: ' + error.message, 'error');
            }
        }

        // MODAIS
        function openScoreModal() {
            loadScores();
            document.getElementById('scoreModal').classList.add('active');
        }

        function closeScoreModal() {
            document.getElementById('scoreModal').classList.remove('active');
        }

        // FECHAR MODAL AO CLICAR FORA
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.classList.remove('active');
            }
        }

        // ENTER KEY
        document.getElementById('entryInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                enterSystem();
            }
        });

        // Inicializar listeners em tempo real
        db.collection('items').onSnapshot(() => {
            if (currentUser) loadItems();
        });

        db.collection('config').doc('scores').onSnapshot(() => {
            if (currentUser) loadScores();
        });
    </script>
</body>
</html>